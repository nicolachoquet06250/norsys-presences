<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Norsys Sophia | RÃ©cap hebdo</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" integrity="sha512-HK5fgLBL+xu6dm/Ii3z4xhlSUyZgTT9tuc/hSrtw6uzJOvgRr2a9jyxxT1ely+B+xFAmJKVSTbpM/CuL7qxO8w==" crossorigin="anonymous" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
	<link href="/assets/styles/home.css" rel="stylesheet" />
	<link href="/assets/styles/calendar.css" rel="stylesheet" />
	<link href="/assets/styles/home-print.css" media="print" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Trumbowyg/2.23.0/ui/trumbowyg.min.css" 
          integrity="sha512-iw/TO6rC/bRmSOiXlanoUCVdNrnJBCOufp2s3vhTPyP1Z0CtTSBNbEd5wIo8VJanpONGJSyPOZ5ZRjZ/ojmc7g==" 
          crossorigin="anonymous" />
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-12">
                <h1>Edition</h1>
            </div>
            <div class="col-12">
                <div id="editor"></div>
            </div>
        </div>
    </div>
    <!-- Import jQuery -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/vendor/jquery-3.3.1.min.js"><\/script>')</script>

    <!-- Import Trumbowyg -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Trumbowyg/2.23.0/trumbowyg.min.js" 
            integrity="sha512-sffB9/tXFFTwradcJHhojkhmrCj0hWeaz8M05Aaap5/vlYBfLx5Y7woKi6y0NrqVNgben6OIANTGGlojPTQGEw==" 
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/trumbowyg@2.23.0/plugins/upload/trumbowyg.upload.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/trumbowyg@2.23.0/plugins/resizimg/trumbowyg.resizimg.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/trumbowyg@2.23.0/plugins/resizimg/trumbowyg.resolveconflict.js"></script>

    <script>
        window.addEventListener('load', () => {
            $('#editor').trumbowyg({
                btnsDef: {
                    // Create a new dropdown
                    image: {
                        dropdown: ['insertImage', 'upload'],
                        ico: 'insertImage'
                    }
                },
                // Redefine the button pane
                btns: [
                    ['viewHTML'],
                    ['formatting'],
                    ['strong', 'em', 'del'],
                    ['superscript', 'subscript'],
                    ['link'],
                    ['image'], // Our fresh created dropdown
                    ['justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull'],
                    ['unorderedList', 'orderedList'],
                    ['horizontalRule'],
                    ['removeformat'],
                    ['fullscreen']
                ],
                plugins: {
                    // Add imagur parameters to upload plugin for demo purposes
                    upload: {
                        serverPath: '/api/recap/upload',
                        fileFieldName: 'image',
                        headers: {
                            'Authorization': JSON.parse(localStorage.getItem('user')).token
                        },
                        urlPropertyName: 'file'
                    }
                }
            });

            document.querySelector('.trumbowyg-insertImage-button').addEventListener('mousedown', e => {
                console.log(e);
            })
        });
    </script>
</body>
</html>
